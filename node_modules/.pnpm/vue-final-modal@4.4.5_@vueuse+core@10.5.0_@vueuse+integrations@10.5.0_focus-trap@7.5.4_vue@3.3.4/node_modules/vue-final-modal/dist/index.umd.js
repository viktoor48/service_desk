(function(y,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue"),require("@vueuse/core"),require("@vueuse/integrations/useFocusTrap")):typeof define=="function"&&define.amd?define(["exports","vue","@vueuse/core","@vueuse/integrations/useFocusTrap"],o):(y=typeof globalThis<"u"?globalThis:y||self,o(y.index={},y.Vue,y.VueUse,y.VueUseFocusTrap))})(this,function(y,o,P,ye){"use strict";const he=e=>(...n)=>{e&&(e==null||e(...n),e=null)},L=()=>{};function U(e,n,l){return e>l?l:e<n?n:e}const x=e=>typeof e=="string",Y={modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:e=>["if","show","visible"].includes(e)},hideOverlay:{type:Boolean,default:void 0},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:e=>["interactive","non-interactive"].includes(e)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:e})=>1e3+2*e},swipeToClose:{type:String,default:"none",validator:e=>["none","up","right","down","left"].includes(e)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function _(e=!1){const n=o.ref(e),l=o.ref(n.value?0:void 0);return[n,l,{beforeEnter(){l.value=1},afterEnter(){l.value=0},beforeLeave(){l.value=3},afterLeave(){l.value=2}}]}function we(e,n){const{modelValueLocal:l,onEntering:s,onEnter:d,onLeaving:c,onLeave:r}=n,t=o.ref(l.value),[u,i,f]=_(t.value),[p,M,T]=_(t.value),S=o.computed(()=>typeof e.contentTransition=="string"?{name:e.contentTransition}:{...e.contentTransition}),g=o.computed(()=>typeof e.overlayTransition=="string"?{name:e.overlayTransition}:{...e.overlayTransition}),B=o.computed(()=>(e.hideOverlay||M.value===2)&&i.value===2);o.watch(B,E=>{E&&(t.value=!1)}),o.watch(i,E=>{if(E===1){if(!t.value)return;s==null||s()}else if(E===0){if(!t.value)return;d==null||d()}else E===3?c==null||c():E===2&&(r==null||r())});async function k(){t.value=!0,await o.nextTick(),u.value=!0,p.value=!0}function V(){u.value=!1,p.value=!1}return{visible:t,contentVisible:u,contentListeners:f,contentTransition:S,overlayVisible:p,overlayListeners:T,overlayTransition:g,enterTransition:k,leaveTransition:V}}function be(e,n,l){const{vfmRootEl:s,vfmContentEl:d,visible:c,modelValueLocal:r}=l,t=o.ref();function u(){c.value&&e.escToClose&&(r.value=!1)}function i(p){t.value=p==null?void 0:p.target}function f(){var p;t.value===s.value&&(e.clickToClose?r.value=!1:((p=d.value)==null||p.focus(),n("clickOutside")))}return{onEsc:u,onMouseupRoot:f,onMousedown:i}}function Te(e,n){const l=o.ref(!!e.modelValue);return o.watch(()=>e.modelValue,s=>{l.value=!!s}),o.watch(l,s=>{s!==e.modelValue&&n("update:modelValue",s)}),{modelValueLocal:l}}function Me(e,n){if(e.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:l}=n,{hasFocus:s,activate:d,deactivate:c}=ye.useFocusTrap(l,e.focusTrap);function r(){requestAnimationFrame(()=>{d()})}function t(){s.value&&c()}return{focus:r,blur:t}}let Z=!1;if(typeof window<"u"){const e={get passive(){Z=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}const ee=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let I=[],G=!1,$=0,oe=-1,R,j;const Se=e=>{if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return["auto","scroll"].includes(n.overflowY)&&e.scrollHeight>e.clientHeight},ke=(e,n)=>!(e.scrollTop===0&&n<0||e.scrollTop+e.clientHeight+n>=e.scrollHeight&&n>0),Ve=e=>{const n=[];for(;e;){if(n.push(e),e.classList.contains("vfm"))return n;e=e.parentElement}return n},Ce=(e,n)=>{let l=!1;return Ve(e).forEach(d=>{Se(d)&&ke(d,n)&&(l=!0)}),l},ne=e=>I.some(()=>Ce(e,-$)),W=e=>{const n=e||window.event;return ne(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},Ee=e=>{if(j===void 0){const n=!!e&&e.reserveScrollBarGap===!0,l=window.innerWidth-document.documentElement.clientWidth;if(n&&l>0){const s=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);j=document.body.style.paddingRight,document.body.style.paddingRight=`${s+l}px`}}R===void 0&&(R=document.body.style.overflow,document.body.style.overflow="hidden")},Oe=()=>{j!==void 0&&(document.body.style.paddingRight=j,j=void 0),R!==void 0&&(document.body.style.overflow=R,R=void 0)},Be=e=>e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1,ge=(e,n)=>($=e.targetTouches[0].clientY-oe,ne(e.target)?!1:n&&n.scrollTop===0&&$>0||Be(n)&&$<0?W(e):(e.stopPropagation(),!0)),Le=(e,n)=>{if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(I.some(s=>s.targetElement===e))return;const l={targetElement:e,options:n||{}};I=[...I,l],ee?(e.ontouchstart=s=>{s.targetTouches.length===1&&(oe=s.targetTouches[0].clientY)},e.ontouchmove=s=>{s.targetTouches.length===1&&ge(s,e)},G||(document.addEventListener("touchmove",W,Z?{passive:!1}:void 0),G=!0)):Ee(n)},Pe=e=>{if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}I=I.filter(n=>n.targetElement!==e),ee?(e.ontouchstart=null,e.ontouchmove=null,G&&I.length===0&&(document.removeEventListener("touchmove",W,Z?{passive:!1}:void 0),G=!1)):I.length||Oe()};function De(e,n){const{lockScrollEl:l,modelValueLocal:s}=n;let d;o.watch(l,t=>{t&&(d=t)},{immediate:!0}),o.watch(()=>e.lockScroll,t=>{t?r():c()}),o.onBeforeUnmount(()=>{c()});function c(){d&&Pe(d)}function r(){s.value&&e.lockScroll&&d&&Le(d,{reserveScrollBarGap:e.reserveScrollBarGap,allowTouchMove:t=>{for(;t&&t!==document.body;){if(t.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;t=t.parentElement}return!1}})}return{enableBodyScroll:c,disableBodyScroll:r}}function Ie(e){function n(l){switch(l){case"beforeOpen":e(l);break;case"beforeClose":e(l);break;case"opened":e(l);break;case"closed":e(l);break}}return{emitEvent:n}}function Ae(e){const n=o.ref();function l(d){var c;n.value=(c=e.zIndexFn)==null?void 0:c.call(e,{index:d<=-1?0:d})}function s(){n.value=void 0}return{zIndex:n,refreshZIndex:l,resetZIndex:s}}const q={beforeMount(e,{value:n},{transition:l}){e._vov=e.style.visibility==="hidden"?"":e.style.visibility,l&&n?l.beforeEnter(e):H(e,n)},mounted(e,{value:n},{transition:l}){l&&n&&l.enter(e)},updated(e,{value:n,oldValue:l},{transition:s}){!n!=!l&&(s?n?(s.beforeEnter(e),H(e,!0),s.enter(e)):s.leave(e,()=>{H(e,!1)}):H(e,n))},beforeUnmount(e,{value:n}){H(e,n)}};function H(e,n){e.style.visibility=n?e._vov:"hidden"}const te=e=>{if(e instanceof MouseEvent){const{clientX:n,clientY:l}=e;return{x:n,y:l}}else{const{clientX:n,clientY:l}=e.targetTouches[0];return{x:n,y:l}}};function Fe(e){if(!e)return!1;let n=!1;const l={get passive(){return n=!0,!1}};return e.addEventListener("x",L,l),e.removeEventListener("x",L),n}function Ne(e,{threshold:n=0,onSwipeStart:l,onSwipe:s,onSwipeEnd:d,passive:c=!0}){const r=o.reactive({x:0,y:0}),t=o.reactive({x:0,y:0}),u=o.computed(()=>r.x-t.x),i=o.computed(()=>r.y-t.y),{max:f,abs:p}=Math,M=o.computed(()=>f(p(u.value),p(i.value))>=n),T=o.ref(!1),S=o.computed(()=>M.value?p(u.value)>p(i.value)?u.value>0?"left":"right":i.value>0?"up":"down":"none"),g=(v,w)=>{r.x=v,r.y=w},B=(v,w)=>{t.x=v,t.y=w};let k,V;function E(v){k.capture&&!k.passive&&v.preventDefault();const{x:w,y:A}=te(v);g(w,A),B(w,A),l==null||l(v),V=[P.useEventListener(e,"mousemove",F,k),P.useEventListener(e,"touchmove",F,k),P.useEventListener(e,"mouseup",a,k),P.useEventListener(e,"touchend",a,k),P.useEventListener(e,"touchcancel",a,k)]}function F(v){const{x:w,y:A}=te(v);B(w,A),!T.value&&M.value&&(T.value=!0),T.value&&(s==null||s(v))}function a(v){T.value&&(d==null||d(v,S.value)),T.value=!1,V.forEach(w=>w())}let h=[];return o.onMounted(()=>{const v=Fe(window==null?void 0:window.document);c?k=v?{passive:!0}:{capture:!1}:k=v?{passive:!1,capture:!0}:{capture:!0},h=[P.useEventListener(e,"mousedown",E,k),P.useEventListener(e,"touchstart",E,k)]}),{isSwiping:T,direction:S,coordsStart:r,coordsEnd:t,lengthX:u,lengthY:i,stop:()=>{h.forEach(v=>v()),V.forEach(v=>v())}}}function Re(e,n){const{vfmContentEl:l,modelValueLocal:s}=n,d=.1,c=300,r=o.ref(),t=o.computed(()=>{if(!(e.swipeToClose===void 0||e.swipeToClose==="none"))return e.showSwipeBanner?r.value:l.value}),u=o.ref(0),i=o.ref(!0);let f=L,p=!0,M,T=!1;const{lengthX:S,lengthY:g,direction:B,isSwiping:k}=Ne(t,{threshold:e.threshold,onSwipeStart(a){f=P.useEventListener(document,"selectionchange",()=>{var h;i.value=(h=window.getSelection())==null?void 0:h.isCollapsed}),M=new Date().getTime(),T=F(a==null?void 0:a.target)},onSwipe(){var a,h,O,v;if(T&&i.value&&B.value===e.swipeToClose){if(B.value==="up"){const w=U(Math.abs(g.value||0),0,((a=t.value)==null?void 0:a.offsetHeight)||0)-(e.threshold||0);u.value=w}else if(B.value==="down"){const w=U(Math.abs(g.value||0),0,((h=t.value)==null?void 0:h.offsetHeight)||0)-(e.threshold||0);u.value=-w}else if(B.value==="right"){const w=U(Math.abs(S.value||0),0,((O=t.value)==null?void 0:O.offsetWidth)||0)-(e.threshold||0);u.value=-w}else if(B.value==="left"){const w=U(Math.abs(S.value||0),0,((v=t.value)==null?void 0:v.offsetWidth)||0)-(e.threshold||0);u.value=w}}},onSwipeEnd(a,h){if(f(),!i.value){i.value=!0;return}const O=new Date().getTime(),v=h===e.swipeToClose,w=(()=>{var N,X;if(h==="up"||h==="down")return Math.abs((g==null?void 0:g.value)||0)>d*(((N=t.value)==null?void 0:N.offsetHeight)||0);if(h==="left"||h==="right")return Math.abs((S==null?void 0:S.value)||0)>d*(((X=t.value)==null?void 0:X.offsetWidth)||0)})(),A=O-M<=c;if(p&&T&&v&&(w||A)){s.value=!1;return}u.value=0}}),V=o.computed(()=>{if(e.swipeToClose==="none")return;const a=(()=>{switch(e.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!k.value},style:{transform:`${a}(${-u.value}px)`}}});o.watch(()=>i.value,a=>{a||(u.value=0)}),o.watch(()=>s.value,a=>{a&&(u.value=0)}),o.watch(()=>u.value,(a,h)=>{switch(e.swipeToClose){case"down":case"right":p=a<h;break;case"up":case"left":p=a>h;break}});function E(a){e.preventNavigationGestures&&a.preventDefault()}function F(a){const h=a==null?void 0:a.tagName;if(!h||["INPUT","TEXTAREA"].includes(h))return!1;const O=(()=>{switch(e.swipeToClose){case"up":return(a==null?void 0:a.scrollTop)+(a==null?void 0:a.clientHeight)===(a==null?void 0:a.scrollHeight);case"left":return(a==null?void 0:a.scrollLeft)+(a==null?void 0:a.clientWidth)===(a==null?void 0:a.scrollWidth);case"down":return(a==null?void 0:a.scrollTop)===0;case"right":return(a==null?void 0:a.scrollLeft)===0;default:return!1}})();return a===t.value?O:O&&F(a==null?void 0:a.parentElement)}return{vfmContentEl:l,swipeBannerEl:r,bindSwipe:V,onTouchStartSwipeBanner:E}}const K=Symbol("vfm"),J=Symbol("internalVfm"),le=o.defineComponent({__name:"CoreModal",props:Y,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(e,{emit:n}){const l=e,{modals:s,openedModals:d}=o.inject(K,{modals:[],openedModals:[]}),{openLastOverlay:c,moveToLastOpenedModals:r,deleteFromOpenedModals:t,moveToLastOpenedModalOverlays:u,deleteFromOpenedModalOverlays:i,deleteFromModals:f}=o.inject(J,{openLastOverlay:L,moveToLastOpenedModals:L,deleteFromOpenedModals:L,moveToLastOpenedModalOverlays:L,deleteFromOpenedModalOverlays:L,deleteFromModals:L}),p=o.ref(),M=o.ref(),{focus:T,blur:S}=Me(l,{focusEl:p}),{zIndex:g,refreshZIndex:B,resetZIndex:k}=Ae(l),{modelValueLocal:V}=Te(l,n),{enableBodyScroll:E,disableBodyScroll:F}=De(l,{lockScrollEl:p,modelValueLocal:V}),{emitEvent:a}=Ie(n);let h=L;const{visible:O,contentVisible:v,contentListeners:w,contentTransition:A,overlayVisible:N,overlayListeners:X,overlayTransition:Ze,enterTransition:qe,leaveTransition:Ke}=we(l,{modelValueLocal:V,onEntering(){o.nextTick(()=>{F(),T()})},onEnter(){a("opened"),h("opened")},onLeave(){t(oo()),k(),E(),a("closed"),h("closed")}}),{onEsc:Je,onMouseupRoot:Qe,onMousedown:fe}=be(l,n,{vfmRootEl:p,vfmContentEl:M,visible:O,modelValueLocal:V}),{swipeBannerEl:_e,bindSwipe:eo,onTouchStartSwipeBanner:me}=Re(l,{vfmContentEl:M,modelValueLocal:V}),pe=o.toRef(l,"hideOverlay"),D=o.computed(()=>({modalId:l.modalId,hideOverlay:pe,overlayVisible:N,focus:T,toggle(m){return new Promise(b=>{h=he(to=>b(to));const C=typeof m=="boolean"?m:!V.value;V.value=C,n("update:modelValue",C)})}}));function oo(){return D}const Q=o.computed(()=>d.indexOf(D));o.watch(()=>[l.zIndexFn,Q.value],()=>{O.value&&B(Q.value)}),o.onMounted(()=>{s.push(D)}),V.value&&ve(),o.watch(V,m=>{m?ve():no()});async function ve(){a("beforeOpen"),r(D),u(D),B(Q.value),c(),qe()}function no(){a("beforeClose"),i(D),c(),S(),Ke()}return o.onBeforeUnmount(()=>{E(),f(D),t(D),i(D),S(),c()}),(m,b)=>m.displayDirective!=="if"||o.unref(O)?o.withDirectives((o.openBlock(),o.createElementBlock("div",{key:0,ref_key:"vfmRootEl",ref:p,class:o.normalizeClass(["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":m.background==="interactive"}]),style:o.normalizeStyle({zIndex:o.unref(g)}),role:"dialog","aria-modal":"true",onKeydown:b[7]||(b[7]=o.withKeys(()=>o.unref(Je)(),["esc"])),onMouseup:b[8]||(b[8]=o.withModifiers(()=>o.unref(Qe)(),["self"])),onMousedown:b[9]||(b[9]=o.withModifiers(C=>o.unref(fe)(C),["self"]))},[pe.value?o.createCommentVNode("",!0):(o.openBlock(),o.createBlock(o.Transition,o.mergeProps({key:0},o.unref(Ze),{appear:!0},o.toHandlers(o.unref(X))),{default:o.withCtx(()=>[m.displayDirective!=="if"||o.unref(N)?o.withDirectives((o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",m.overlayClass]),style:o.normalizeStyle(m.overlayStyle),"aria-hidden":"true"},null,6)),[[o.vShow,m.displayDirective!=="show"||o.unref(N)],[o.unref(q),m.displayDirective!=="visible"||o.unref(N)]]):o.createCommentVNode("",!0)]),_:1},16)),o.createVNode(o.Transition,o.mergeProps(o.unref(A),{appear:!0},o.toHandlers(o.unref(w))),{default:o.withCtx(()=>[m.displayDirective!=="if"||o.unref(v)?o.withDirectives((o.openBlock(),o.createElementBlock("div",o.mergeProps({key:0,ref_key:"vfmContentEl",ref:M,class:["vfm__content vfm--outline-none",[m.contentClass,{"vfm--prevent-auto":m.background==="interactive"}]],style:m.contentStyle,tabindex:"0"},o.unref(eo),{onMousedown:b[6]||(b[6]=()=>o.unref(fe)())}),[o.renderSlot(m.$slots,"default"),m.showSwipeBanner?(o.openBlock(),o.createElementBlock("div",{key:0,ref_key:"swipeBannerEl",ref:_e,class:"vfm-swipe-banner-container",onTouchstart:b[2]||(b[2]=C=>o.unref(me)(C))},[o.renderSlot(m.$slots,"swipe-banner",{},()=>[o.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:b[0]||(b[0]=C=>m.swipeToClose==="left"&&C.preventDefault())},null,32),o.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:b[1]||(b[1]=C=>m.swipeToClose==="right"&&C.preventDefault())},null,32)])],544)):!m.showSwipeBanner&&m.preventNavigationGestures?(o.openBlock(),o.createElementBlock("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:b[5]||(b[5]=C=>o.unref(me)(C))},[o.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:b[3]||(b[3]=C=>m.swipeToClose==="left"&&C.preventDefault())},null,32),o.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:b[4]||(b[4]=C=>m.swipeToClose==="right"&&C.preventDefault())},null,32)],32)):o.createCommentVNode("",!0)],16)),[[o.vShow,m.displayDirective!=="show"||o.unref(v)],[o.unref(q),m.displayDirective!=="visible"||o.unref(v)]]):o.createCommentVNode("",!0)]),_:3},16)],38)),[[o.vShow,m.displayDirective!=="show"||o.unref(O)],[o.unref(q),m.displayDirective!=="visible"||o.unref(O)]]):o.createCommentVNode("",!0)}}),lo="",se={...Y,teleportTo:{type:[String,null,Boolean,Object],default:"body"}},je=o.defineComponent({inheritAttrs:!1}),re=o.defineComponent({...je,__name:"VueFinalModal",props:se,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(e,{emit:n}){const s=ue({props:e,modalProps:Y,emit:n});return(d,c)=>(o.openBlock(),o.createBlock(o.Teleport,{to:d.teleportTo?d.teleportTo:void 0,disabled:!d.teleportTo},[o.createVNode(le,o.normalizeProps(o.guardReactiveProps(o.unref(s))),{default:o.withCtx(()=>[o.renderSlot(d.$slots,"default")]),_:3},16)],8,["to","disabled"]))}});y.activeVfm=void 0;const ie=e=>y.activeVfm=e,ae=()=>o.getCurrentInstance()&&o.inject(K)||y.activeVfm;function He(){const e=o.shallowReactive([]),n=o.shallowReactive([]),l=o.shallowReactive([]),s=o.shallowReactive([]),d=o.ref([]),c=o.markRaw({install(r){r.provide(K,c),r.config.globalProperties.$vfm=c;const t=ze(c);r.provide(J,t)},modals:e,openedModals:n,openedModalOverlays:l,dynamicModals:s,modalsContainers:d,get(r){return e.find(t=>t.value.modalId&&r===t.value.modalId)},toggle(r,t){const u=c.get(r);return u==null?void 0:u.value.toggle(t)},open(r){return c.toggle(r,!0)},close(r){return c.toggle(r,!1)},closeAll(){return Promise.allSettled([n.map(r=>r.value.toggle(!1))])}});return ie(c),c}function ze(e){const{modals:n,openedModals:l,openedModalOverlays:s,dynamicModals:d}=e,c={deleteFromModals(r){const t=n.findIndex(u=>u.value===r.value);t!==-1&&n.splice(t,1)},moveToLastOpenedModals(r){c.deleteFromOpenedModals(r),l.push(r)},deleteFromOpenedModals(r){const t=l.findIndex(u=>u.value===r.value);t!==-1&&l.splice(t,1)},moveToLastOpenedModalOverlays(r){c.deleteFromOpenedModalOverlays(r),s.push(r)},deleteFromOpenedModalOverlays(r){const t=s.findIndex(u=>u.value===r.value);t!==-1&&s.splice(t,1)},async openLastOverlay(){var r;if(await o.nextTick(),s.forEach(t=>t.value.overlayVisible.value=!1),s.length>0){const t=s[s.length-1];!((r=t.value.hideOverlay)!=null&&r.value)&&(t.value.overlayVisible.value=!0)}},resolvedClosed(r){var t,u,i;(u=(t=d[r])==null?void 0:t.resolveClosed)==null||u.call(t),(i=d[r])!=null&&i.keepAlive||d.splice(r,1)},resolvedOpened(r){var t,u;(u=(t=d[r])==null?void 0:t.resolveOpened)==null||u.call(t)}};return c}function z(){const e=ae();if(!e)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return e}function Ue(){return o.inject(J)}function ce(e,n=re){const{component:l,slots:s,...d}=e,c=typeof s>"u"?{}:Object.fromEntries(Object.entries(s).map(([r,t])=>x(t)?[r,t]:"component"in t?[r,{...t,component:o.markRaw(t.component)}]:[r,o.markRaw(t)]));return{...d,component:o.markRaw(l||n),slots:c}}function Ye(e){var u;const n=o.reactive({id:Symbol("useModal"),modelValue:!!(e!=null&&e.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...ce(e)});P.tryOnUnmounted(()=>{n!=null&&n.keepAlive||t()}),n.modelValue===!0&&(y.activeVfm?(u=y.activeVfm)==null||u.dynamicModals.push(n):o.nextTick(()=>{const i=z();i==null||i.dynamicModals.push(n)}));async function l(){let i;return y.activeVfm?i=y.activeVfm:(await o.nextTick(),i=z()),n.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(t(),n.modelValue=!0,i.dynamicModals.push(n),new Promise(f=>{n.resolveOpened=()=>f("opened")}))}function s(){return n.modelValue?(n.modelValue=!1,new Promise(i=>{n.resolveClosed=()=>i("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function d(i){const{slots:f,...p}=ce(i,n.component);i.defaultModelValue!==void 0&&(n.defaultModelValue=i.defaultModelValue),(i==null?void 0:i.keepAlive)!==void 0&&(n.keepAlive=i==null?void 0:i.keepAlive),c(n,p),f&&Object.entries(f).forEach(([M,T])=>{const S=n.slots[M];x(S)?n.slots[M]=T:de(S)&&de(T)?c(S,T):n.slots[M]=T})}function c(i,f){f.component&&(i.component=f.component),f.attrs&&r(i.attrs,f.attrs)}function r(i,f){return Object.entries(f).forEach(([p,M])=>{i[p]=M}),i}function t(){const i=z(),f=i.dynamicModals.indexOf(n);f!==-1&&i.dynamicModals.splice(f,1)}return{options:n,open:l,close:s,patchOptions:d,destroy:t}}function Ge(e){return e}function de(e){return"component"in e||"attrs"in e}function $e(e,n){return Object.keys(n).reduce((l,s)=>(l[s]=e[s],l),{})}function We(e){return e?{"onUpdate:modelValue":n=>e("update:modelValue",n),onBeforeClose:()=>e("beforeClose"),onClosed:()=>e("closed"),onBeforeOpen:()=>e("beforeOpen"),onOpened:()=>e("opened"),onClickOutside:()=>e("clickOutside")}:{}}function ue(e){const{props:n,modalProps:l,emit:s}=e,d=o.computed(()=>$e(n,l)),c=We(s),r=o.useAttrs();return o.computed(()=>({...d.value,...c,...r}))}const Xe=["innerHTML"],xe=o.defineComponent({__name:"ModalsContainer",setup(e){const n=z(),l=Ue(),s=Symbol("ModalsContainer"),d=o.computed(()=>{var c;return s===((c=n.modalsContainers.value)==null?void 0:c[0])});return n.modalsContainers.value.push(s),o.onBeforeUnmount(()=>{n.modalsContainers.value=n.modalsContainers.value.filter(c=>c!==s)}),(c,r)=>d.value?(o.openBlock(!0),o.createElementBlock(o.Fragment,{key:0},o.renderList(o.unref(n).dynamicModals,(t,u)=>(o.openBlock(),o.createBlock(o.resolveDynamicComponent(t.component),o.mergeProps({key:t.id},{displayDirective:t!=null&&t.keepAlive?"show":void 0,...t.attrs},{modelValue:t.modelValue,"onUpdate:modelValue":i=>t.modelValue=i,onClosed:()=>{var i,f;return(f=(i=o.unref(l)).resolvedClosed)==null?void 0:f.call(i,u)},onOpened:()=>{var i,f;return(f=(i=o.unref(l)).resolvedOpened)==null?void 0:f.call(i,u)}}),o.createSlots({_:2},[o.renderList(t.slots,(i,f)=>({name:f,fn:o.withCtx(()=>[o.unref(x)(i)?(o.openBlock(),o.createElementBlock("div",{key:0,innerHTML:i},null,8,Xe)):"component"in i?(o.openBlock(),o.createBlock(o.resolveDynamicComponent(i.component),o.normalizeProps(o.mergeProps({key:1},i.attrs)),null,16)):(o.openBlock(),o.createBlock(o.resolveDynamicComponent(i),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):o.createCommentVNode("",!0)}});y.CoreModal=le,y.ModalsContainer=xe,y.VueFinalModal=re,y.coreModalProps=Y,y.createVfm=He,y.getActiveVfm=ae,y.setActiveVfm=ie,y.useModal=Ye,y.useModalSlot=Ge,y.useVfm=z,y.useVfmAttrs=ue,y.vueFinalModalProps=se,Object.defineProperty(y,Symbol.toStringTag,{value:"Module"})});
